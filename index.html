<!doctype html>
<html>
  <head>
    <title>Self destructing todo app</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="app/stylesheets/custom.css">
        
  </head>
  <body ng-app='todoApp' ng-controller='mainCtrl'>
    <header>
      <nav class="navbar navbar-default">
        <ul class="nav navbar-nav">
          <li>
            <a href="#">Home</a>
          </li>
        </ul>
      </nav>
    </header>

    <div class="container">
      <div class="row">  
        <input type="checkbox" ng-model="checkbox">Show expired Tasks?</input>
        <table class="table table-striped">
          <tr>
            <th>Items</th>
            <th>Date Added</th>
            <th>Days Left</th>
            <th>Status</th>
          </tr>
          <!--<tr ng-repeat="todo in todos" ng-show="!checkbox && todo.isCurrent() || checkbox && !todo.isCurrent()">-->
          <tr ng-repeat="todo in todos" ng-show="(today - todo.date < 604800000) && !checkbox || checkbox && !(today - todo.date < 604800000)">
            <td>{{todo.item}}</td>
            <td>{{todo.date | date:'yyyy-MM-dd' }}</td>
            <td>{{7-((today - todo.date)/86400000) | number:0}}</td>
            <td>
              <button class="btn btn-success" ng-click="deleteTodo($index)">Done</button>
            </td>
          </tr>
        </table>
        
        <form ng-submit="addTodo()" style="text-align:center;">
          <input type="text" ng-model="newItem" placeholder="Add a new item"></input>
          <button class="btn btn-primary" type="submit">Save</button> 
        </form>
      </div>
    </div>

          

    <!-- AngularJS -->
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.js"></script>
    <!-- Firebase -->
    <script src="//cdn.firebase.com/js/client/1.0.21/firebase.js"></script>
    <!-- AngularFire -->
    <script src="//cdn.firebase.com/libs/angularfire/0.8.2/angularfire.min.js"></script>
    <script src="https://cdn.firebase.com/js/simple-login/1.6.3/firebase-simple-login.js"></script>
    <script src="/app/app.js"></script>
    <script src="/app/controllers/mainCtrl.js"></script>
  </body>
</html>
